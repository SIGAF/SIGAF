<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <title>Sigaf V 1.0</title>
        <h:outputStylesheet name="./css/style.css"/>
        <style>
            #video-container {
                top:0%;
                left:0%;
                height:50%;
                width:100%;
                overflow: hidden;
                position: absolute; 
                z-index:-1;
                border-bottom: 6px solid;
                border-bottom-color: yellow ;
            }
            video {
                position:absolute;
                z-index:0;
            }
            video.fillWidth {
                width: 100%;
            }
            #bg_pattern { 
                width: 100%; /* width needs to be set to 100% */
                height: 50%; /* height needs to be set to 100% */
                position: absolute;
                left: 0;
                top: 0;
                background-image:url("/menu/resources/img/3px-tile.png"); 
                z-index:0;
            }

        </style>
    </h:head>
    <h:body>

        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
        <div class="header-unit">
            <div id="bg_pattern" >
            </div>
            <div id="video-container" >
                <video autoplay="treu" loop="true" class="fillWidth" muted="true">
                    <source src="http://thenewcode.com/assets/videos/atlantic-light.webm" type="video/mp4"/>
                </video>
            </div><!-- end video-container -->
        </div><!-- end .header-unit -->
        <div class="landing">
            <section class="topslot">
                <div class="wrapper">
                    <div class="brief">
                        <h1>SIGAF</h1>
                        <p>Sistema Financiero para la Fundación Usulután II</p>
                    </div>
                </div>
            </section>
            <section>
                <div class="main">
                    <p:outputPanel rendered="#{ !loginBean.resetPassForm ? !loginBean.reset :false }">
                        <h:form>
                            <p:inputText  value="#{loginBean.nombreUsuario}" placeholder="Nombre de Usuario"/>
                            <br></br>
                            <p:password  value="#{loginBean.clave}"  placeholder="Contraseña"/>
                            <br></br>  
                            <center>
                                <h:outputText value="#{loginBean.msgValidate}" style=" color:  red" />
                            </center>
                            <br></br>  
                            <h:commandButton  value="Entrar" actionListener="#{loginBean.login()}" />
                            <div class="extras">
                                <h:commandLink actionListener="#{loginBean.setReset(true)}" value="¿Olvido su contraseña?"  ></h:commandLink>
                            </div>
                        </h:form>  
                    </p:outputPanel>

                    <p:outputPanel rendered="#{  !loginBean.resetPassForm ? loginBean.reset:false}">

                        <h:form>
                            <p:inputText  value="#{loginBean.mail}" placeholder="E-MAIL"/>
                            <br></br>

                            <center>
                                <h:outputText value="#{loginBean.msgValidate}" style=" color:  red" />
                            </center>
                            <br></br>  

                            <h:commandButton value="Enviar" actionListener="#{loginBean.resetPass()}" />
                            <br></br> 
                            <h:commandButton  value="Cancelar" actionListener="#{loginBean.setReset(false)}" />
                        </h:form>
                    </p:outputPanel>

                    <p:outputPanel rendered="#{loginBean.resetPassForm}"    >



                        <h:form >
                            <p:inputText  value="#{loginBean.usuarioActivo.TEmpleado.correoEmpleado}" readonly="true"/>
                            <br></br>
                            <p:password  value="#{loginBean.clave}"  placeholder="Contraseña"/>

                            <br></br>  
                            <p:password  value="#{loginBean.claveConfir}"  placeholder="Confirmar contraseña"/>
                            <br></br>

                            <center>
                                <p:outputLabel value="#{loginBean.msgValidate}"  id="msgValidate" style=" color:  red" />
                            </center>
                            <br></br>  


                            <h:commandButton  value="Enviar" actionListener="#{loginBean.validar()}" >
                                <f:param name="token" value="#{loginBean.token}" />
                            </h:commandButton>
                            <br></br> 
                            <h:commandButton  value="Cancelar" actionListener="#{loginBean.setReset(false)}" />
                        </h:form>


                    </p:outputPanel>



                </div>
            </section>
        </div>

    </h:body>
    <div class="footer">
        <center>

            <p style="text-align: center; color: #ffffff"> Copyright © 2017, Universidad de El Salvador - Facultad Multidisciplinaria Paracentral</p>

        </center>

    </div>
</html>

