<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <body>
        <ui:composition template="./../index.xhtml">
            <ui:define name="content">
                <style>


                    .first-row {
                        background-color: #ffffff !important;
                        background-image: none !important;
                        color: #000000 !important;
                    }

                    .second-row {
                        background-color: #fff999 !important;
                        background-image: none !important;
                        color: #000000 !important;
                    }
                    .companyHeaderGrid.ui-panelgrid>*>tr,
                    .companyHeaderGrid.ui-panelgrid .ui-panelgrid-cell {
                        border: none;
                    }
                    #opMenu td{
                        border: none !important;

                    }
                    #opMenu tr{
                        border: none !important;

                    }
                </style>

                <!-- crear -->
                <p:outputPanel id="padding">
                    <p:growl id="msgs" />
                    <p:outputPanel rendered="#{agronegocioBean.showCreate}" >
                        <h:form id="fEmpleados" >                            
                            <p:panel id="basic"  header="Agregar agronegocio"  style="width: 100%; margin: auto; margin-bottom: 20px">

                                <p:panelGrid id="pgEmpleado3" styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">
                                    <p:row>                                              
                                        <p:column style=" width: 78%">
                                            <h:outputText value="Código:*"/>
                                        </p:column>

                                        <p:column style=" width: 22%">
                                            <h:outputText value="Fecha:*"/>
                                        </p:column>
                                    </p:row>                                            
                                    <p:row>    
                                        <p:column >     
                                            <p:inputText   value="#{agronegocioBean.agronegocio.codigo}"    style="width: 30%;" >  </p:inputText>
                                            <h:outputText value="#{agronegocioBean.msgCodigo}" style=" color:  red" />

                                        </p:column>

                                        <p:column >
                                            <p:calendar navigator="true" yearRange="1910:"  locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button"  id="cfecha"  value="#{agronegocioBean.agronegocio.fecha}"/><br></br>
                                            <h:outputText value="#{agronegocioBean.msgFecha}" style=" color:  red" />
                                        </p:column>
                                    </p:row>
                                </p:panelGrid>
                                <br></br>
                                <hr></hr>
                                <p:tabView >
                                    <p:tab title="Cultivos y productos">
                                        <p:outputPanel id="productores">
                                            <b> <h:outputText  value="Productor"/></b>
                                            <hr></hr>


                                            <p:outputPanel id="productorIndividual"  style=" width: 100%">



                                                <p:panelGrid styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">
                                                    <p:row>
                                                        <p:column>
                                                            <h:outputText value="DUI:*"/>
                                                        </p:column>
                                                        <p:column>
                                                            <h:outputText value="Nombre:*"/>
                                                        </p:column>
                                                    </p:row>
                                                    <p:row>
                                                        <p:column colspan="1" style=" width: 20%">
                                                            <p:inputText style=" width: 100%"  value="#{agronegocioBean.productorIndividualSeleccionado.duiProductorIndividual}" readonly="true" /> 
                                                            <h:outputText value="#{agronegocioBean.msgProductor}" style=" color:  red" />

                                                        </p:column>
                                                        <p:column colspan="1" style=" width: 80%">
                                                            <p:inputText style=" width: 100%"  value="#{agronegocioBean.productorIndividualSeleccionado.nombresProdcutorIndividual} #{agronegocioBean.productorIndividualSeleccionado.apellidosProductorIndividual}" readonly="true" /> 
                                                        </p:column>
                                                        <p:column colspan="1" style=" width: 100%">
                                                            <p:commandButton  update="productorIndividual" actionListener="#{agronegocioBean.mostrarProductorIndividual()}" oncomplete="PF('dgBuscarProductor').show()" icon="fa fa-search" title="Buscar productor" >
                                                            </p:commandButton>
                                                        </p:column>
                                                    </p:row>

                                                </p:panelGrid> 

                                            </p:outputPanel>




                                        </p:outputPanel>

                                        <br></br>
                                        <b> <h:outputText value="Cultivos"  /></b>
                                        <hr></hr>

                                        <p:panelGrid styleClass="companyHeaderGrid">
                                            <p:row>   
                                                <p:column>
                                                    <p:dataTable   id="activosData"
                                                                   var="productos" 
                                                                   value="#{agronegocioBean.listaProducto}"
                                                                   rows="5" rowExpandMode="multiple"
                                                                   widgetVar="cultivosData"
                                                                   paginator="true"

                                                                   paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                   paginatorPosition="bottom" 
                                                                   rowsPerPageTemplate="5,10,15"
                                                                   currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"




                                                                   emptyMessage="No se encontraron cultivos o productos" rowIndexVar="No" >



                                                        <f:facet name="header">
                                                            <p:outputPanel>                                           
                                                                <p:inputText id="globalFilter" onkeyup="PF('cultivosData').filter()" style="width:150px" placeholder="Buscar"/>
                                                            </p:outputPanel>
                                                        </f:facet>

                                                        <p:column headerText="Nº" style=" width: 5%">  

                                                            <h:outputText value=" #{No+1}" />
                                                        </p:column>
                                                        <p:column headerText="Nombre" style=" width: 40%;" filterBy="#{productos.nombre}" sortBy="#{productos.nombre}">  
                                                            <h:outputText value="#{productos.nombre}"  />
                                                        </p:column>

                                                        <p:column headerText="Sistema" style=" width: 10%;" filterBy="#{productos.sistema}" sortBy="#{productos.sistema}">  
                                                            <h:outputText value="#{productos.sistema}"  />
                                                        </p:column>

                                                        <p:column headerText="Asistencia" style=" width: 12%;" filterBy="#{agronegocioBean.cambiarAsistencia(productos.asistencia)}" sortBy="#{agronegocioBean.cambiarAsistencia(productos.asistencia)}">  
                                                            <h:outputText value="#{agronegocioBean.cambiarAsistencia(productos.asistencia)}"/>
                                                        </p:column>

                                                        <p:column headerText="Organización" style=" width: 20%;" filterBy="#{productos.organizacion}" sortBy="#{productos.organizacion}">  
                                                            <h:outputText value="#{productos.organizacion}"  />
                                                        </p:column>

                                                        <p:column style=" width: 6%"  >  

                                                            <p:commandButton update=":padding"     icon="fa fa-check" title="Seleccionar cultivo o producto" style="#{agronegocioBean.btnCrear}" actionListener="#{agronegocioBean.pasar(No)}" >
                                                            </p:commandButton>

                                                        </p:column>
                                                    </p:dataTable>
                                                </p:column>
                                            </p:row>
                                        </p:panelGrid>
                                        <br></br>
                                        <b>   <h:outputText value="Detalles del cultivo"/></b>
                                        <hr></hr>
                                        <p:panelGrid id="pgEmpleado3" styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">
                                            <p:row>                                              
                                                <p:column style=" width: 60%">
                                                    <h:outputText value="Unidades:*"/>
                                                </p:column>
                                                <p:column style=" width: 20%">
                                                     <h:outputText value="Precio ($):*"/>
                                                   
                                                </p:column>
                                                <p:column style=" width: 20%">
                                                    <h:outputText value="Cantidad:*"/>
                                                </p:column>
                                            </p:row>                                            
                                            <p:row>    
                                                <p:column >     
                                                    <p:inputText   value="#{agronegocioBean.productoAgronegocio.unidad}"    style="width: 100%;" >  </p:inputText>
                                                </p:column>
                                                <p:column > 
                                                           <p:inputNumber   value="#{agronegocioBean.productoAgronegocio.precio}"    style="width: 100%;" >  </p:inputNumber>
                                             
                                                 </p:column>
                                                <p:column >  
                                                          <p:inputNumber   value="#{agronegocioBean.productoAgronegocio.cantidad}"    style="width: 100%;" >  </p:inputNumber>
                                             
                                                </p:column>
                                            </p:row>
                                        </p:panelGrid>


                                    </p:tab>


                                    <p:tab title="Detalles del agronegocio">    

                                        <p:outputPanel id="busqueda">
                                            <b>     <h:outputText  value="Comprador"/>  </b>
                                            <hr></hr>
                                            <p:panelGrid id="addPanel2" styleClass="companyHeaderGrid" style="width: 100%; margin: auto;">   
                                                <p:row> 
                                                    <p:column>                                                
                                                        <h:outputText value="DUI:*"/>
                                                    </p:column>
                                                    <p:column>                                                
                                                        <h:outputText value="Nombre:*"/>
                                                    </p:column>
                                                </p:row>                                       
                                                <p:row>
                                                    <p:column style=" width: 20%">
                                                        <p:inputText id="dui"  value="#{agronegocioBean.compradorSeleccionado.duiComprador}" style="width: 100%;" readonly="true" >  </p:inputText>
                                                        <h:outputText value="#{agronegocioBean.msgComprador}" style=" color:  red" />
                                                    </p:column>
                                                    <p:column style=" width: 80%">
                                                        <p:inputText id="nombre"  value="#{agronegocioBean.compradorSeleccionado.nombresComprador} #{agronegocioBean.compradorSeleccionado.apellidosComprador}" style="width: 100%;" readonly="true" >  </p:inputText>
                                                        <h:outputText value="#{solicitudCooperBean.msgCodigoEntidad}" style=" color:  red" />
                                                    </p:column>
                                                    <p:column style=" width: 100%" >
                                                        <p:commandButton  update="dui nombre"  oncomplete="PF('dgBuscarCuenta').show()" icon="fa fa-search" title="Buscar comprador" >
                                                        </p:commandButton>
                                                    </p:column>
                                                </p:row>
                                            </p:panelGrid>

                                        </p:outputPanel>

                                        <br></br>

                                        <b> <h:outputText  value="Cultivos"/> </b>
                                        <hr></hr>
                                        <p:panelGrid  styleClass="companyHeaderGrid">
                                            <p:row>

                                                <p:column>
                                                    <p:dataTable id="basicDT3" var="productos"  value="#{agronegocioBean.listaProductoAgronegocio}"  paginator="true"
                                                                 widgetVar="cultivosDataDetalle"
                                                                 currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"                                                
                                                                 paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                                 rowsPerPageTemplate="10" paginatorPosition="bottom" style="width: 100%"
                                                                 rowIndexVar="No" emptyMessage="No se encontraron cultivos o productos"
                                                                 >


                                                        <f:facet name="header">
                                                            <p:outputPanel>                                           
                                                                <p:inputText id="globalFilter" onkeyup="PF('cultivosDataDetalle').filter()" style="width:150px" placeholder="Buscar"/>
                                                            </p:outputPanel>
                                                        </f:facet>
                                                        <f:facet name="header"  >
                                                        </f:facet>


                                                        <p:column headerText="Nº" width="5%">
                                                            <h:outputText value=" #{No+1}" />
                                                        </p:column>

                                                        <p:column headerText="Nombre" width="50%" filterBy="#{productos.nombre}" sortBy="#{productos.nombre}"  >
                                                            <h:outputText value="#{productos.nombre}"  />
                                                        </p:column>

                                                        <p:column headerText="Unidad" width="10%" filterBy="#{productos.unidad}" sortBy="#{productos.unidad}"  >
                                                            <h:outputText value="#{productos.unidad}" />
                                                        </p:column>

                                                        <p:column headerText="Cantidad" width="10%" filterBy="#{productos.cantidad}" sortBy="#{productos.cantidad}"  >
                                                            <h:outputText value="#{productos.cantidad}" />
                                                        </p:column>

                                                        <p:column headerText="Precio" width="10%" filterBy="#{productos.precio}" sortBy="#{productos.precio}"  >
                                                            <h:outputText value="$" />
                                                            <h:outputText value="#{productos.precio}">

                                                                <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                            </h:outputText>

                                                        </p:column>

                                                        <p:column style=" width: 6%"  >  

                                                            <p:commandButton update=":padding"     icon="fa fa-minus" title="Quitar cultivo" style="#{productoBean.btnCancelar}" actionListener="#{agronegocioBean.quitar(No)}" >
                                                            </p:commandButton>

                                                        </p:column>

                                                    </p:dataTable>
                                                    <h:outputText value="#{agronegocioBean.msglistaProductos}" style=" color:  red" />


                                                </p:column>

                                            </p:row>




                                        </p:panelGrid>

                                        <br></br>
                                        <h:outputText   value="Total ($):"/>   <p:inputNumber id="tagro" value="#{agronegocioBean.total}" readonly="true"   style=" width: 23%" />



                                    </p:tab>

                                    <p:tab title="Forma de pago">
                                        <p:outputPanel id="pcontado">


                                            <h:outputText  value="Agronegocio al contado:"/>  &nbsp;&nbsp; <p:selectBooleanCheckbox id="tipo1" value="#{agronegocioBean.tipocontado}" >
                                                <p:ajax update="pcontado" listener="#{agronegocioBean.cambiarTipo1}" />
                                            </p:selectBooleanCheckbox> 
                                            &nbsp;&nbsp;
                                            <h:outputText  value="Agronegocio al crédito:"/>  &nbsp;&nbsp; <p:selectBooleanCheckbox id="tipo2" value="#{agronegocioBean.tipocredito}"  >
                                                <p:ajax update="pcontado"  listener="#{agronegocioBean.cambiarTipo2}" />
                                            </p:selectBooleanCheckbox>

                                            <br></br>
                                            <br></br>
                                            <p:fieldset rendered="#{agronegocioBean.PContado}">
                                                <p:panelGrid id="addPanel5"  style="width: 100%; margin: auto;" styleClass="companyHeaderGrid">   
                                                    <p:row>
                                                        <p:column>
                                                            <h:outputText value="Forma:*"/>
                                                        </p:column>
                                                        <p:column>
                                                            <h:outputText value="Numero de cheque:*" /> 

                                                        </p:column>
                                                    </p:row>

                                                    <p:row>

                                                        <p:column colspan="1" style=" width: 50%"> 
                                                            <p:outputPanel id="formas">
                                                                <h:outputText  value="Efectivo:"/> &nbsp;&nbsp;  <p:selectBooleanCheckbox  value="#{agronegocioBean.tipoefectivo}" >
                                                                    <p:ajax update="numeroCheque formas" listener="#{agronegocioBean.cambiarForma1}" />
                                                                </p:selectBooleanCheckbox> 
                                                                &nbsp;&nbsp;

                                                                <h:outputText  value="Cheque:"/> &nbsp;&nbsp; <p:selectBooleanCheckbox  value="#{agronegocioBean.tipocheque}"  >
                                                                    <p:ajax update="numeroCheque formas"  listener="#{agronegocioBean.cambiarForma2}" />
                                                                </p:selectBooleanCheckbox>
                                                            </p:outputPanel>
                                                        </p:column>

                                                        <p:column colspan="1">
                                                            <p:outputPanel id="numeroCheque">

                                                                <p:inputText disabled="#{agronegocioBean.habilitar}" value="#{agronegocioBean.pagoAgro.cheque}"  style=" width: 100%" /> 
                                                                <h:outputText value="#{agronegocioBean.msgCheque}" style=" color:  red" />

                                                            </p:outputPanel>
                                                        </p:column>
                                                    </p:row>
                                                </p:panelGrid>
                                                <br></br>
                                                <hr></hr>

                                                <p:panelGrid styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">
                                                    <p:row>
                                                        <p:column style=" width: 50%" >
                                                            <h:outputText value="Total de la deuda ($):"/>   
                                                            <h:outputText value="#{agronegocioBean.total}">
                                                                <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                            </h:outputText>

                                                        </p:column>

                                                        <p:column style=" width: 50%" >
                                                            <h:outputText value="Comisión basada en ("/>

                                                            <h:outputText value="#{agronegocioBean.politicaAgronegocio.tasaComisionAgronegocio}">
                                                                <f:convertNumber    pattern="#0.00" locale="en-US" /> 

                                                            </h:outputText>

                                                            <h:outputText value=" %) ($):"/>

                                                            <h:outputText value="#{agronegocioBean.comision}">
                                                                <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                            </h:outputText>


                                                        </p:column>
                                                    </p:row> 
                                                </p:panelGrid>
                                            </p:fieldset>
                                            <p:outputPanel id="calculos" rendered="#{agronegocioBean.PCredito}" >


                                                <div aling="center">

                                                    <p:fieldset rendered="#{agronegocioBean.PCredito}"  style="width: 100%">
                                                        <p:panelGrid styleClass="companyHeaderGrid"  style="width: 100%; margin: auto;">
                                                            <p:row>
                                                                <p:column style=" width: 33%" >
                                                                    <h:outputText value="Total ($):"/>
                                                                </p:column>
                                                                <p:column style=" width: 33%" >
                                                                    <h:outputText value="Tasa de interés (%):"/>
                                                                </p:column>

                                                            </p:row>
                                                            <p:row>
                                                                <p:column style=" width: 33%" >
                                                                    <p:inputNumber  value="#{agronegocioBean.total}"   style=" width: 100%" />
                                                                </p:column>
                                                                <p:column style=" width: 33%" >
                                                                    <p:inputNumber value="#{agronegocioBean.politicaAgronegocio.tasaInteresAgronegocio}"   style=" width: 100%" />
                                                                </p:column>

                                                            </p:row>
                                                            <p:row>
                                                                <p:column style=" width: 33%" >
                                                                    <h:outputText value="Plazo(meses):*"/>
                                                                </p:column>
                                                                <p:column style=" width: 33%" >
                                                                    <h:outputText value="Comisión a aplicar (%):"/>
                                                                </p:column>

                                                            </p:row>
                                                            <p:row>
                                                                <p:column style=" width: 33%" >
                                                                    <p:inputNumber  value="#{agronegocioBean.agronegocio.plazo}" placeholder="12"   style=" width: 100%" />
                                                                    <h:outputText value="#{agronegocioBean.msgPlazo}" style=" color:  red" />

                                                                </p:column>
                                                                <p:column style=" width: 33%" >
                                                                    <p:inputNumber  value="#{agronegocioBean.politicaAgronegocio.tasaComisionAgronegocio}"   style=" width: 100%" />

                                                                </p:column>

                                                            </p:row>
                                                        </p:panelGrid>
                                                        <br></br>

                                                        <hr></hr>
                                                        <p:panelGrid styleClass="companyHeaderGrid" style="width: 100%; margin: auto;">

                                                            <p:row>
                                                                <p:column style=" width: 40%" >

                                                                </p:column>
                                                                <p:column style=" width: 20%" >
                                                                    <p:commandButton  value="Calcular valores" icon="fa fa-calendar" style="#{productoBean.btnModificar}" actionListener="#{agronegocioBean.mostrarCalculos}" update=":padding" > 
                                                                    </p:commandButton>
                                                                </p:column>
                                                                <p:column style=" width: 40%" >

                                                                </p:column>
                                                            </p:row>



                                                        </p:panelGrid>



                                                    </p:fieldset>

                                                    <br></br>




                                                    <p:fieldset rendered="#{agronegocioBean.mostrarTable}" style="width: 100%; " >
                                                        <p:panelGrid styleClass="companyHeaderGrid" id="calc"  style="width: 100%; margin: auto;">

                                                            <p:row>
                                                                <p:column style=" width: 50%" >
                                                                    <h:outputText value="Monto de la deuda: $"/>

                                                                    <h:outputText value="#{agronegocioBean.total}">
                                                                        <f:convertNumber    pattern=",#00.00" locale="en-US" /> 


                                                                    </h:outputText>
                                                                </p:column>
                                                                <p:column style=" width: 50%" >
                                                                    <h:outputText value="Fecha segerida de pago:"/> 

                                                                </p:column>


                                                            </p:row>   
                                                            <p:row>  
                                                                <p:column style=" width: 50%" >
                                                                    <h:outputText value="Interés: $"/>
                                                                    <h:outputText value="#{agronegocioBean.interes}">

                                                                        <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                                    </h:outputText>




                                                                </p:column>

                                                                <p:column style=" width: 50%" >
                                                                    <p:calendar navigator="true" yearRange="1910:2100"  locale="es" pattern="dd/MM/yyyy" mask="true" showOn="button"  id="cfecha"  value="#{agronegocioBean.agronegocio.fechapago}" /><br></br>


                                                                </p:column>

                                                            </p:row>   
                                                            <p:row>
                                                                <p:column style=" width: 50%" >
                                                                    <h:outputText value="Total (Monto+Interes): $"/>
                                                                    <h:outputText value="#{agronegocioBean.totales}">
                                                                        <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                                    </h:outputText>



                                                                </p:column>
                                                            </p:row>   

                                                            <p:row>
                                                                <p:column style=" width: 50%" >
                                                                    <h:outputText value="Comisión: $"/> 

                                                                    <h:outputText value="#{agronegocioBean.comisionCredito}"> 

                                                                        <f:convertNumber    pattern=",#00.00" locale="en-US" /> 

                                                                    </h:outputText>



                                                                </p:column>
                                                            </p:row>


                                                        </p:panelGrid>
                                                    </p:fieldset>
                                                </div>
                                            </p:outputPanel>


                                        </p:outputPanel>

                                    </p:tab>

                                </p:tabView>

                                <br></br>
                                <center>
                                    <div class="buttons">
                                        <p:commandButton  value="Guardar" id="btnGuardar" icon="fa fa-check" style="#{productoBean.btnCrear}" actionListener="#{agronegocioBean.validarFormulario}" update=":padding" > 
                                        </p:commandButton>
                                        <p:commandButton style="#{agronegocioBean.btnLimpiar}"  value="Limpiar" id="btnClean"   actionListener="#{agronegocioBean.limpiar}" update=":padding" class="clear" icon="fa fa-fw fa-minus"/>

                                        <p:commandButton  actionListener="#{agronegocioBean.enableShowDataBean}" update=":padding" icon="fa fa-close" title="Cancelar" value="Cancelar" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </div>
                                </center>  
                            </p:panel>

                        </h:form>

                        <p:dialog header="Confirmar" widgetVar="pgGuardar" modal="true"  visible="#{agronegocioBean.estadoFormulario}" resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea agregar este agronegocio?"/>
                                    </p:panelGrid>
                                   
                                    <hr></hr>
                                     <br></br>
                                    <center>
                                        <p:commandButton style="#{agronegocioBean.btnNuevo}" value="Si" actionListener="#{agronegocioBean.crear}"   oncomplete="PF('pgGuardar').hide()"  title="Cerrar" update=":padding">
                                        </p:commandButton>
                                        <p:commandButton oncomplete="PF('pgGuardar').hide()" style="#{agronegocioBean.btnCancelar}"  value="No"> 
                                            <f:setPropertyActionListener value="#{false}" target="#{agronegocioBean.estadoFormulario}" />
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>  






                        <p:dialog header="Buscar productor" widgetVar="dgBuscarProductor"  width="70%" appendTo="@(body)" modal="true" >  
                            <h:form id="fBuscarCuenta2"> 
                                <p:dataTable var="entidades" value="#{agronegocioBean.listaProductoresIndividuales}" widgetVar="companyTable"
                                             paginator="true"
                                             rows="10"
                                               currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,15"
                                             paginatorPosition="bottom"
                                             emptyMessage="No se encontro ningun productor" rowIndexVar="No"> 

                                   
                                    <f:facet name="header">
    <p:outputPanel>                                           
    <p:inputText id="globalFilter" onkeyup="PF('dgBuscarProductor').filter()" style="width:150px" placeholder="Buscar"/>
    </p:outputPanel>
   </f:facet>
                                    
                                    <p:column headerText="Nº" width="5%">       
                                        <h:outputText value="#{No+1}"  />
                                    </p:column>
                                    
                                     <p:column headerText="Nombres" width="25%" filterBy="#{entidades.nombresProdcutorIndividual}" filterStyle="width:100%"  >
                                        <h:outputText value="#{entidades.nombresProdcutorIndividual}"  />
                                    </p:column>
                                    
                                     <p:column headerText="Apellidos" width="25%" filterBy="#{entidades.nombresProdcutorIndividual}" filterStyle="width:100%"  >
                                        <h:outputText value="#{entidades.apellidosProductorIndividual}"  />
                                    </p:column>

                                    <p:column headerText="DUI" width="12%" filterBy="#{entidades.duiProductorIndividual}" filterStyle="width:100%"  >
                                        <h:outputText value="#{entidades.duiProductorIndividual}" />
                                    </p:column>

                                   

                                    <p:column headerText="NIT" width="20%" filterBy="#{entidades.nitProductorIndividual}" filterStyle="width:100%"  >
                                        <h:outputText value="#{entidades.nitProductorIndividual}" />
                                    </p:column>
                                   


                                    <p:column  width="6%">  
                                        <p:commandButton  update=":padding"  icon="fa fa-check" title="Seleccionar productor" style="#{solicitudCooperBean.btnCrear}">

                                            <f:setPropertyActionListener value="#{entidades}" target="#{agronegocioBean.productorIndividualSeleccionado}"  />
                                            <f:actionListener binding="#{agronegocioBean.productos()}"/>                                        
                                        </p:commandButton>
                                    </p:column> 
                                </p:dataTable> 

                            </h:form> 
                        </p:dialog>

                        <p:dialog header="Buscar comprador" widgetVar="dgBuscarCuenta"  width="70%" appendTo="@(body)" modal="true" >  
                            <h:form id="fBuscarCuenta"> 
                                <p:dataTable var="entidades" value="#{agronegocioBean.listaComprador}" widgetVar="companyTable"
                                             paginator="true"
                                             rows="10"
                                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                             rowsPerPageTemplate="5,10,15"
                                               currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                
                                             paginatorPosition="bottom"
                                             emptyMessage="No se encontraron compradores" rowIndexVar="No"> 

<f:facet name="header">
    <p:outputPanel>                                           
    <p:inputText id="globalFilter" onkeyup="PF('dgBuscarCuenta').filter()" style="width:150px" placeholder="Buscar"/>
    </p:outputPanel>
   </f:facet>
                                    
                                    
                                    <p:column   
                                        headerText="Nº" width="5%" >                                             
                                        <h:outputText value="#{No+1}"  />  
                                    </p:column> 
                                    
                                    <p:column filterBy="#{entidades.nombresComprador}"  
                                              headerText="Nombres"
                                              filterMatchMode="contains" width="25%" filterStyle="width: 100%">  
                                        <h:outputText value="#{entidades.nombresComprador}"  />  
                                    </p:column> 
                                    <p:column filterBy="#{entidades.apellidosComprador}"  
                                              headerText="Apellidos"
                                              filterMatchMode="contains" width="25%" filterStyle="width: 100%">  
                                        <h:outputText value="#{entidades.apellidosComprador}"  />  
                                    </p:column> 

                                    <p:column filterBy="#{entidades.duiComprador}"  
                                              headerText="DUI"
                                              filterMatchMode="contains" width="12%" filterStyle="width: 100%">  
                                        <h:outputText value="#{entidades.duiComprador}"  />  
                                    </p:column> 
                                     <p:column filterBy="#{entidades.nitComprador}"  
                                              headerText="NIT"
                                              filterMatchMode="contains" width="20%" filterStyle="width: 100%">  
                                        <h:outputText value="#{entidades.duiComprador}"  />  
                                    </p:column>  

                                    


                                    <p:column  width="6%">  
                                        <p:commandButton  update=":padding"  icon="fa fa-check" title="Seleccionar comprador" style="#{solicitudCooperBean.btnCrear}">

                                            <f:setPropertyActionListener value="#{entidades}" target="#{agronegocioBean.compradorSeleccionado}"  />
                                        </p:commandButton>
                                    </p:column> 
                                </p:dataTable> 

                            </h:form> 
                        </p:dialog>
                    </p:outputPanel>
                    <p:outputPanel rendered="#{agronegocioBean.showData}">
                        <h:form target="_blank">        
                            <p:panel id="pDatosCompradores" header="Administrar agronegocios" style="width: 100%; margin: auto; margin-bottom: 20px" >
                                <div align="center"> 
                                    <p:fieldset>
                                        <div align="left">
                                            <p:commandButton title="Nuevo agronegocio" id="add"  actionListener="#{agronegocioBean.enableShowCreate}" update=":padding"    icon="fa fa-plus" style="#{agronegocioBean.btnNuevo}">
                                                
                                                <f:actionListener binding="#{agronegocioBean.cargarNuevoAgronegocio()}"/> 
                                           
                                                
                                            </p:commandButton>   
                                        </div>
                                    </p:fieldset>







                                    <p:dataTable  id="basicDT" var="agronegocios" widgetVar="dataAgronegocios"  paginator="true" rows="10" value="#{agronegocioBean.listaAgronegocio}"
                                                  paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                  paginatorPosition="bottom" style="width: 100%;"
                                                  currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                  emptyMessage="No se encontraron agronegocios"
                                                  rowIndexVar="No" rowsPerPageTemplate="5,10,15">

                                        <f:facet name="header">
                                            <p:outputPanel>                                           
                                                <p:inputText id="globalFilter" onkeyup="PF('dataAgronegocios').filter()" style="width:150px" placeholder="Buscar"/>
                                            </p:outputPanel>
                                        </f:facet>

                                        <p:column headerText="Nº" width="5%">
                                            <h:outputText value="#{No+1}"/>
                                        </p:column>

                                        <p:column headerText="Código" width="15%" filterBy="#{agronegocios.codigo}"  filterStyle="width:100%" sortBy="#{agronegocios.codigo}" >
                                            <h:outputText value="#{agronegocios.codigo}"/>
                                        </p:column>




                                        <p:column headerText="DUI comprador" width="15%" filterBy="#{agronegocios.TComprador.duiComprador}" sortBy="#{agronegocios.TComprador.duiComprador}"   filterStyle="width:100%" >
                                            <h:outputText value="#{agronegocios.TComprador.duiComprador}"/>
                                        </p:column>

                                        <p:column headerText="Tipo" width="15%" filterBy="#{agronegocios.tipo}" sortBy="#{agronegocios.tipo}"  filterStyle="width:100%" >
                                            <h:outputText value="#{agronegocios.tipo}"></h:outputText>  



                                        </p:column>

                                        <p:column headerText="Total" width="15%" filterBy="#{agronegocios.total}" sortBy="#{agronegocios.total}"  filterStyle="width:100%" >
                                            <h:outputText value="$" /> 
                                            <h:outputText value="#{agronegocios.total}"  >
                                                <f:convertNumber     pattern=",#00.00" locale="en-US" />      
                                            </h:outputText>

                                        </p:column>



                                        <p:column headerText="Estado" width="20%" filterBy="#{agronegocios.estado}" sortBy="#{agronegocios.estado}"  filterStyle="width:100%" >

                                            <h:outputText value="#{agronegocios.estado}"/>




                                        </p:column>

                                       

                                        <p:column headerText="" width="9%"  >

                                            <p:splitButton  update=":padding" oncomplete="PF('pgVer').show()" icon="fa fa-eye" style="#{agronegocios.estadoregistro eq true? cuentaBean.btnDarDeAlta :  cuentaBean.btnDarDeBaja}" >

                                                <f:setPropertyActionListener  value="#{agronegocios.TComprador}" target="#{agronegocioBean.compradorSeleccionado}" />                                                
                                               
                                                <f:setPropertyActionListener  value="#{agronegocios}" target="#{agronegocioBean.agronegocioSeleccionado}"/>

                                              
                                                
                                                <f:actionListener binding="#{agronegocioBean.cargarVistaAgronegocio()}"/> 
                                                <p:menuitem rendered="#{agronegocios.estadoregistro}" update=":padding"  oncomplete="PF('pgBaja').show()" icon="fa fa-arrow-down" value="Dar de baja">
                                                    <f:setPropertyActionListener value="#{agronegocios}" target="#{agronegocioBean.agronegocioSeleccionado}" />
                                                </p:menuitem>

                                                <p:menuitem rendered="#{!agronegocios.estadoregistro}" update=":padding"  oncomplete="PF('pgAlta').show()" icon="fa fa-arrow-up" value="Dar de alta"    >
                                                    <f:setPropertyActionListener value="#{agronegocios}" target="#{agronegocioBean.agronegocioSeleccionado}" />
                                                </p:menuitem>

                                                <p:menuitem rendered="#{agronegocios.estado eq 'Finalizado'}"  ajax="false" update=":padding" value="Generar recibo"  icon="fa fa-file-text-o" >
                                                    <f:setPropertyActionListener  value="#{agronegocios}" target="#{pagoAgronegocioBean.agronegocioSeleccionado}"  />
                                                    <f:actionListener binding="#{pagoAgronegocioBean.generarRecibo()}"/> 
                                                </p:menuitem>
                                            </p:splitButton>


                                        </p:column>
                                    </p:dataTable>
                                </div>
                            </p:panel>
                        </h:form>
                        <p:dialog header="Confirmar" widgetVar="pgAlta" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de alta este agronegocio?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{agronegocioBean.darDeAlta}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelCerrar"  update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>
                        <p:dialog header="Confirmar" widgetVar="pgBaja" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">

                            <h:form>
                                <p:outputPanel style="text-align:center;">
                                    <p:panelGrid>
                                        <h:outputText value="¿Desea dar de baja este agronegocio?" />
                                    </p:panelGrid>
                                    <br></br>
                                    <hr></hr>
                                    <center>
                                        <p:commandButton value="Si" actionListener="#{agronegocioBean.darDeBaja}"  update=":padding" icon="fa fa-check" style="#{compradorBean.btnNuevo}">
                                        </p:commandButton>
                                        <p:commandButton id="btnCancelCerrar2"  update=":padding"  icon="fa fa-close"  value="No" style="#{compradorBean.btnCancelar}"> 
                                        </p:commandButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>    




                        <p:dialog  width="65%" header="Datos del agronegocio" onHide="#{agronegocioBean.limpiarAgroVista()}" widgetVar="pgVer" modal="true"   visible="false"  resizable="true" responsive="true" styleClass="ui-panelgrid-blank" appendTo="@(body)">
                            <h:form target="_blank">
                                <p:outputPanel > 

                                    <p:tabView>
                                        <p:tab title="Comprador y productor"> 


                                            <b>        <h:outputText value="Comprador"/></b>
                                            <hr></hr>
                                            <br></br>
                                            <p:panelGrid  style="width: 100%;" > 
                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Nombres: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.nombresComprador}"/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Apellidos: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.apellidosComprador}"/>
                                                    </p:column>



                                                </p:row>
                                                <p:row style=" text-align:  left">


                                                    <p:column>

                                                        <h:outputText value="DUI: "/>
                                                    </p:column>


                                                    <p:column>


                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.duiComprador}"/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="NIT: "/>
                                                    </p:column>


                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.nitComprador}"/>
                                                    </p:column>





                                                </p:row>

                                                <p:row style=" text-align:  left">



                                                    <p:column>

                                                        <h:outputText value="Teléfono: "/>

                                                    </p:column>

                                                    <p:column>


                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.telefonoComprador}"/>


                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="Movil: "/>

                                                    </p:column>

                                                    <p:column>



                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.movilComprador}"/>


                                                    </p:column>



                                                </p:row>


                                                <p:row style=" text-align:  left">


                                                    <p:column colspan="1" style=" width: 25%">
                                                        <h:outputText value="Dirección: "/>
                                                    </p:column>

                                                    <p:column colspan="3" style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.compradorSeleccionado.direccionComprador}"/>
                                                    </p:column>



                                                </p:row>




                                            </p:panelGrid>

                                            <br></br>
                                            <b>  <h:outputText value="Productor "/></b>
                                            <hr></hr>
                                            <br></br>



                                            <p:panelGrid  style="width: 100%;" > 
                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Nombres: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.nombresProdcutorIndividual}"/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Apellidos: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.apellidosProductorIndividual}"/>
                                                    </p:column>



                                                </p:row>
                                                <p:row style=" text-align:  left">


                                                    <p:column>

                                                        <h:outputText value="DUI: "/>
                                                    </p:column>


                                                    <p:column>


                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.duiProductorIndividual}"/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="NIT: "/>
                                                    </p:column>


                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.nitProductorIndividual}"/>
                                                    </p:column>





                                                </p:row>

                                                <p:row style=" text-align:  left">



                                                    <p:column>

                                                        <h:outputText value="Teléfono: "/>

                                                    </p:column>

                                                    <p:column>


                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.telefonoProductorIndividual}"/>


                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="Movil: "/>

                                                    </p:column>

                                                    <p:column>



                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.movilProductorIndividual}"/>


                                                    </p:column>



                                                </p:row>


                                                <p:row style=" text-align:  left">


                                                    <p:column colspan="1" style=" width: 25%">
                                                        <h:outputText value="Dirección: "/>
                                                    </p:column>

                                                    <p:column colspan="3" style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.productorIndividualSeleccionadoVista.direccionProductorIndividual}"/>
                                                    </p:column>



                                                </p:row>




                                            </p:panelGrid>


                                        </p:tab>




                                        <p:tab title="Registro"> 
                                            <p:panelGrid  style="width: 100%;"> 
                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Código: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.codigo}"/>
                                                    </p:column>


                                                    <p:column>

                                                        <h:outputText value="Fecha de registro: "/>

                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.fecha}">

                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>

                                                        </h:outputText>
                                                    </p:column>


                                                </p:row>
                                                <p:row style=" text-align:  left">

                                                    <p:column>
                                                        <h:outputText value="Tipo: "/>
                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.tipo}"/>


                                                    </p:column>


                                                    <p:column >
                                                        <h:outputText value="Fecha de pago: "/>

                                                    </p:column>

                                                    <p:column >

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.fechapago}">

                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>

                                                        </h:outputText>
                                                    </p:column>



                                                </p:row>

                                                <p:row style=" text-align:  left">
                                                    <p:column >
                                                        <h:outputText value="Plazo: "/>
                                                    </p:column>

                                                    <p:column >

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.plazo} meses"/>
                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="Total:"/>




                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="$"/>

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.total}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" />  
                                                        </h:outputText>



                                                    </p:column>
                                                </p:row>

                                                <p:row style=" text-align:  left">

                                                    <p:column>
                                                        <h:outputText value="Interes:"/>

                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="$"/>
                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.interes}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>
                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="Comisión:"/>

                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="$"/>
                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.comision}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>
                                                    </p:column>
                                                </p:row>
                                                
                                                <p:row style=" text-align:  left">

                                                    <p:column>
                                                        <h:outputText value="Estado:"/>

                                                    </p:column>

                                                    <p:column colspan="3">

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.estadoregistro eq true? 'Activo': 'Inactivo'}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>
                                                    </p:column>

                                                   
                                                </p:row>

                                            </p:panelGrid>

                                            <br></br>


                                            <b>    <h:outputText value="Cultivos"  /> </b>
                                            <hr></hr>
                                            <p:dataTable  id="basicDT" var="entidades" widgetVar="produrTable3"  paginator="true" rows="5" value="#{agronegocioBean.listaProductoAgronegocio}"
                                                          paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                                                          paginatorPosition="bottom" style="width: 100%;"
                                                          rowIndexVar="No" rowsPerPageTemplate="5"
                                                          currentPageReportTemplate="Mostrando {startRecord}-{endRecord} de {totalRecords}"
                                                 
                                                          >


                                                <f:facet name="header">
                                                    <p:outputPanel>                                           
                                                        <p:inputText id="globalFilter" onkeyup="PF('produrTable3').filter()" style="width:150px" placeholder="Buscar"/>
                                                    </p:outputPanel>
                                                </f:facet>

                                                <p:column   
                                                    headerText="Nº" width="5%" >                                             
                                                    <h:outputText value="#{No+1}"  />  

                                                </p:column> 

                                                <p:column   
                                                    headerText="Nombre" width="35%" filterBy="#{entidades.nombre}" sortBy="#{entidades.nombre}" >                                             
                                                    <h:outputText value="#{entidades.nombre}"  >
                                                       
                                                    </h:outputText>

                                                </p:column> 

                                                <p:column headerText="Unidad" width="10%" filterBy="#{entidades.unidad}" sortBy="#{entidades.unidad}"  
                                                          >  
                                                    <h:outputText value="#{entidades.unidad}"  />  
                                                </p:column>  
                                                <p:column  headerText="Cantidad" width="10%" filterBy="#{entidades.cantidad}" sortBy="#{entidades.cantidad}"  
                                                           >  
                                                    <h:outputText value="#{entidades.cantidad}"  />  
                                                </p:column> 


                                                <p:column headerText="Precio" width="10%" filterBy="#{entidades.precio}" sortBy="#{entidades.precio}" 
                                                          >  
                                                    <h:outputText value="$"></h:outputText>

                                                    <h:outputText value="#{entidades.precio}" >


                                                        <f:convertNumber     pattern="#0.00" locale="en-US" />  
                                                    </h:outputText>

                                                </p:column> 




                                            </p:dataTable>

                                        </p:tab>

                                        <p:tab title="Pago"> 

                                            <p:panelGrid  style="width: 100%;" > 
                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Estado: "/>

                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.agronegocioSeleccionado.estado}"/>
                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="Fecha de pago: "/>


                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="#{agronegocioBean.pagoAgro.fecha eq null? '----': agronegocioBean.pagoAgro.fecha }">

                                                            <f:convertDateTime pattern="dd/MM/yyyy"/>

                                                        </h:outputText>


                                                    </p:column>
                                                </p:row>
                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Interes:"/>





                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="$"/>

                                                        <h:outputText value="#{agronegocioBean.pagoAgro.interes}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>


                                                    </p:column>


                                                    <p:column>
                                                        <h:outputText value="Otro interes(#{agronegocioBean.pagoAgro.dias} dias):"/>




                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="$"/>
                                                        <h:outputText value="#{agronegocioBean.pagoAgro.otrosinteres}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>



                                                    </p:column>
                                                </p:row>

                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Total pagado:"/>





                                                    </p:column>
                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="$"/>

                                                        <h:outputText value="#{agronegocioBean.totales}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>


                                                    </p:column>
                                                    <p:column>
                                                        <h:outputText value="Comisión:"/>



                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="$"/>

                                                        <h:outputText value="#{agronegocioBean.pagoAgro.comision}">

                                                            <f:convertNumber     pattern=",#00.00" locale="en-US" /> 
                                                        </h:outputText>


                                                    </p:column>
                                                </p:row>


                                                <p:row style=" text-align:  left">
                                                    <p:column style=" width: 25%">
                                                        <h:outputText value="Forma de pago: "/>
                                                    </p:column>

                                                    <p:column style=" width: 25%">

                                                        <h:outputText value="#{agronegocioBean.pagoAgro.forma eq null? '----':agronegocioBean.pagoAgro.forma}"/>
                                                    </p:column>

                                                    <p:column>
                                                        <h:outputText value="Numeo de cheque: "/>
                                                    </p:column>

                                                    <p:column>

                                                        <h:outputText value="#{agronegocioBean.pagoAgro.cheque eq null? '----':agronegocioBean.pagoAgro.cheque }"/>
                                                    </p:column>


                                                </p:row>





                                            </p:panelGrid>



                                        </p:tab>


                                    </p:tabView>




                                    <br></br>
                                    <center>

                                        <p:splitButton  update=":padding" value="Ver PDF"  ajax="false" icon="fa fa-eye"  >
                                            <f:setPropertyActionListener  value="#{agronegocios.TComprador}" target="#{agronegocioBean.compradorSeleccionado}" />                                                
                                            <f:actionListener binding="#{agronegocioBean.verReporteAgronegocio()}"/> 
                                            <p:menuitem  ajax="false" update=":padding"  icon="fa fa-download" value="Descargar PDF">
                                                <f:actionListener binding="#{agronegocioBean.verReporteAgronegocioPDF()}"/> 
                                            </p:menuitem>
                                        </p:splitButton>
                                    </center>
                                </p:outputPanel>
                            </h:form>
                        </p:dialog>

                    </p:outputPanel>

                </p:outputPanel>

            </ui:define>
            <ui:define name="aux">
                <script>
                    $(document).ready(function () {
                        $("#agro").addClass("active");
                    });
                </script>
            </ui:define>
        </ui:composition>
    </body>
</html>
